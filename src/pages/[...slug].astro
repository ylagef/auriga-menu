---
import Category from '@components/Category.astro'
import Zone from '@components/Zone.astro'

import Layout from '../layouts/Layout.astro'
import { RESTAURANT } from '../mock/auriga'

const { name } = RESTAURANT

const { slug } = Astro.params
const [zoneSlug, sectionSlug] = slug.toString().split('/')

const zone = RESTAURANT.zones[zoneSlug]
const category = zone?.categories.find((category) => category.id === sectionSlug)
---

<Layout title={name}>
  {zone && !category && <Zone zone={zone} slug={slug.toString()} />}
  {category && <Category category={category} />}
</Layout>
