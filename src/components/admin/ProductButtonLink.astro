---
import ButtonLink from '@components/ButtonLink.astro'
import { translations } from 'src/locales/translations'
import { ProductSI } from 'src/types'

export interface Props {
  product: ProductSI
}

const { product } = Astro.props
---

<ButtonLink href={`/admin/productos/${product.id}`}>
  <div class="flex flex-col gap-2">
    <p class="font-medium">{product.name}</p>
    <div class="opacity-70 flex flex-col gap-2">
      {product.description && <small class="w-full overflow-x-hidden text-ellipsis whitespace-nowrap">{product.description}</small>}
      {product.allergens?.length > 0 && <small class="text-xxs">{product.allergens.map((a) => translations.allergens[a]).join(', ')}</small>}
      <p>{product.price}</p>
    </div>
  </div>
</ButtonLink>
