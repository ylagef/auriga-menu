---
import ButtonLink from '@components/ButtonLink.astro'
import ButtonLinksContainer from '@components/ButtonLinksContainer.astro'
import { ZoneSI } from 'src/typesSupabase'
import { getCategories } from 'src/utils/supabase'

export interface Props {
  zone: ZoneSI
}

console.log('Zone.astro...')
const { zone } = Astro.props
const categories = await getCategories({ zoneId: zone.id })
console.log({ zone, categories })
---

<ButtonLinksContainer>
  {
    categories
      .sort((a, z) => a.order - z.order)
      .map((category) => <ButtonLink href={`/${zone.slug}/${category.slug}`}>{category.buttonText}</ButtonLink>)
  }
</ButtonLinksContainer>
