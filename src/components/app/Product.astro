---
import Allergens from '@components/app/Allergens.astro'
import { ProductSI } from 'src/types'

export interface Props {
  product: ProductSI
}

const {
  product: { name, price, description, allergens, options }
} = Astro.props
---

<div class="flex flex-col gap-2">
  <div class="flex justify-between items-center">
    <div class="flex flex-col pr-4 gap-2">
      <p>{name}</p>

      {description && <small class="text-dark-text/70">{description}</small>}

      {
        options?.length > 0 && (
          <div class="flex flex-col gap-2">
            {options.map((option) => (
              <small class="text-dark-text/70">- {option}</small>
            ))}
          </div>
        )
      }
    </div>

    <p class="text-center">{price}</p>
  </div>
  {allergens?.length > 0 && <Allergens allergens={allergens} />}
</div>
